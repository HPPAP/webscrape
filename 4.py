import requests
from bs4 import BeautifulSoup

ids = [
    ["chi.16586151", "v.2 1640-42"],
    ["chi.18173921", "v.3 1642-44"],
    ["chi.18173825", "v.4 1644-46"],
    ["chi.31110057", "v.5 1646-48"],
    ["mdp.39015056729323", "v.5 1646-1648"],
    ["chi.16416294", "v.6 1648-51"],
    ["mdp.39015056729315", "v.6 1648-1651"],
    ["chi.18173849", "v.7 1651-59"],
    ["chi.099164142", "v.8-11 1660-97 index"],
    ["chi.48502872", "v.8 1660-67"],
    ["chi.19251911", "v.9 1667-87"],
    ["chi.22692473", "v.9 1699-1703"],
    ["mdp.39015056560777", "v.10 1688-1693"],
    ["chi.56931621", "v.11 1693-1697"],
    ["mdp.39015056560686", "v.12 1697-1699"],
    ["chi.20670875", "v.13 1699-1702"],
    ["mdp.39015056560520", "v.15 1705-1708"],
    ["umn.31951d02551121t", "v.16 (1708/11)"],
    ["mdp.39015056560678", "v.16 1708-1711"],
    ["chi.22690202", "v.17 1711-14"],
    ["umn.31951d01721987f", "v.18/34 1714/74"],
    ["chi.39697822", "v.18-34 1714-74 index"],
    ["umn.31951d02551123p", "v.18 (1714/17)"],
    ["mdp.39015056560801", "v.18 1714-1718"],
    ["chi.78147367", "v.19 1718-21"],
    ["mdp.39015056560660", "v.19 1718-1721"],
    ["chi.42850273", "v.21 1727-32"],
    ["chi.78147514", "v.23 1737-41"],
    ["mdp.39015056560504", "v.23 1737-1741"],
    ["chi.78147069", "v.24 1741-45"],
    ["chi.20806722", "v.26 1750-54"],
    ["chi.20806657", "v.27 1754-57"],
    ["chi.78147312", "v.30 1765-66"],
    ["chi.78147507", "v.31 1766-67"],
    ["mdp.39015056564506", "v.31 1766-1768"],
    ["chi.78147083", "v.32 1768-70"],
    ["chi.78147141", "v.33 1770-72"],
    ["chi.78147261", "v.34 1772-74"],
    ["chi.74591227", "v.35-55 1774-1800 index"],
    ["chi.78147329", "v.35 1774-76"],
    ["chi.78147374", "v.37 1778-1780"],
    ["chi.78147432", "v.38 1780-82"],
    ["chi.78147381", "v.40 1784-85"],
    ["chi.78147449", "v.41 1786"],
    ["chi.78146571", "v.42 1787"],
    ["chi.78147045", "v.43 1787-88"],
    ["chi.099164312", "v.44 1788-89"],
    ["mdp.39015016370515", "v.44 1788-1789"],
    ["chi.16855766", "v.47 1792"],
    ["chi.78146622", "v.48 1792-1793"],
    ["mdp.39015056730933", "v.49 1794"],
    ["mdp.39015056730925", "v.50 1794-1795"],
    ["chi.099164370", "v.51 1796"],
    ["chi.099164388", "v.52 1796-97"],
    ["chi.099164396", "v.53 1797-98"],
    ["mdp.39015056730750", "v.53 1797-1798"],
    ["chi.78146608", "v.54 1798-99"],
    ["chi.41856726", "v.56-75 1801-20 index"],
    ["iau.31858029589490", "v.59 1805/06"],
    ["chi.099164485", "v.62 1805-06"],
    ["chi.099164493", "v.63 1808-09"],
    ["mdp.39015056730867", "v.64 1809"],
    ["mdp.39015056730859", "v.65 1819"],
    ["chi.63763646", "v.66 1810-11"],
    ["chi.099164566", "v.70 1814-16"],
    ["mdp.39015056577557", "v.91 1836"],
    ["mdp.39015056577847", "v.92 1837"],
    ["mdp.39015056577839", "v.93 1838"],
    ["mdp.39015056577821", "v.94 1839"],
    ["chi.099164689", "v.95 1840"],
    ["mdp.39015056577813", "v.95 1840"],
    ["mdp.39015056577995", "v.96 1841"],
    ["mdp.39015056577979", "v.98 1843"],
    ["chi.099164728", "v.99 1844"],
    ["mdp.39015056577961", "v.99 1844"],
    ["uc1.c0000032052", "v.010 yr.1688/1693"],
    ["uc1.c0000029595", "v.026 yr.1754"],
    ["uc1.c0000029488", "v.027 yr.1757"],
    ["uc1.c0000032193", "v.029 yr.1764"],
    ["uc1.c0000032250", "v.036 yr.1776/1778"],
    ["uc1.c0000032284", "v.040 yr.1785"],
    ["uc1.c0000035311", "INDEX: v.056-075 yr.1800-1820"],
    ["uc1.c0000032607", "v.072 yr.1817"],
    ["uc1.c0000032623", "v.074 yr.1819"],
    ["uc1.c0000032649", "v.076 yr.1821"],
    ["uc1.c0000029876", "v.082 yr.1827"],
    ["uc1.e0000056663", "v.092 yr.1837"],
    ["uc1.e0000056671", "v.093 yr.1837/1838"],
    ["uc1.e0000056689", "v.094 yr.1839"],
    ["uc1.e0000056705", "v.096 yr.1841"],
    ["chi.099164736", "v.100 1845"],
    ["mdp.39015056577953", "v.100 1845"],
    ["chi.099164744", "v.101 pt.1 1846"],
    ["uc1.e0000056762", "v.101 pt.2 yr.1846"],
    ["chi.099164752", "v.101 pt.2 1846-47"],
    ["mdp.39015056577805", "v.101 1846-1847 pt.1"],
    ["mdp.39015056577797", "v.101 1846-1847 pt.2"],
    ["chi.099164760", "v.102 1847"],
    ["mdp.39015056577946", "v.102 1847"],
    ["mdp.39015056577789", "v.103 1847-1848"],
    ["mdp.39015056577938", "v.104 1848-1850"],
    ["uc1.e0000056804", "v.105 yr.1850"],
    ["chi.099164809", "v.106 1851-52"],
    ["mdp.39015056577771", "v.106 1851-1852"],
    ["mdp.39015056577763", "v.107 1852"],
    ["chi.099164972", "v.108-120 1852-65 index"],
    ["chi.099164859", "v.108 1852-54"],
    ["mdp.39015056577912", "v.108 1852-1854"],
    ["chi.099164867", "v.109 1854"],
    ["mdp.39015056577755", "v.109 1854"],
    ["chi.099164875", "v.110 1854-55"],
    ["mdp.39015056577904", "v.110 1854-1855"],
    ["chi.099164883", "v.111 1856"],
    ["mdp.39015056577748", "v.111 1856"],
    ["chi.099164891", "v.112 1857"],
    ["mdp.39015056577896", "v.112 1857"],
    ["mdp.39015056577730", "v.113 1857-1859"],
    ["uc1.e0000056895", "v.114 yr.1859"],
    ["mdp.39015056577888", "v.114 1859"],
    ["uc1.e0000056903", "v.115 yr.1860"],
    ["mdp.39015056577722", "v.115 1860-1861"],
    ["mdp.39015056577870", "v.116 1861-1862"],
    ["mdp.39015056577714", "v.117 1862-1863"],
    ["mdp.39015056577862", "v.118 1863-1864"],
    ["mdp.39015056577706", "v.120 1865"],
    ["chi.74591169", "v.121-134 1866-1878/79 index"],
    ["mdp.39015056578142", "v.121 1865-1867"],
    ["uc1.e0000056978", "v.122 yr.1867"],
    ["mdp.39015056578134", "v.122 1867"],
    ["uc1.e0000056986", "v.123 yr.1867/1868"],
    ["mdp.39015056578126", "v.123 1867-1868"],
    ["mdp.39015056578118", "v.124 1868-1869"],
    ["mdp.39015056731386", "v.125 1870"],
    ["uc1.e0000057018", "v.126 yr.1877"],
    ["mdp.39015056731394", "v.126 1871"],
    ["uc1.e0000057026", "v.127 yr.1872"],
    ["mdp.39015056733242", "v.127 1872"],
    ["mdp.39015056732947", "v.128 1873"],
    ["mdp.39015056733093", "v.129 1874"],
    ["mdp.39015056732939", "v.130 1875"],
    ["uc1.e0000057067", "v.131 yr.1876"],
    ["mdp.39015056732921", "v.131 1876"],
    ["mdp.39015056732913", "v.132 1877"],
    ["uc1.e0000057083", "v.133 yr.1878"],
    ["mdp.39015056732905", "v.133 1878"],
    ["uc1.e0000057091", "v.134 yr.1878/1879"],
    ["mdp.39015056732897", "v.134 1878-1879"],
    ["uc1.e0000057109", "v.135 yr.1860"],
    ["chi.099165106", "v.135 1880"],
    ["mdp.39015056733085", "v.135 1880"],
    ["mdp.39015056733077", "v.136 1881"],
    ["mdp.39015056733069", "v.137 1882"],
    ["mdp.39015056732889", "v.138 1883"],
    ["mdp.39015056733051", "v.139 1884"],
    ["mdp.39015056732871", "v.140 1884-1885"],
    ["chi.099165156", "v.140 1885"],
    ["mdp.39015056732863", "v.141 1886"],
    ["uc1.e0000057174", "v.142 yr.1887"],
    ["mdp.39015056732855", "v.142 1887"],
    ["uc1.e0000057182", "v.143 yr.1888"],
    ["chi.099165237", "v.147 1892"],
    ["mdp.39015056732830", "v.147 1892"],
    ["mdp.39015056733234", "v.148 1893-1894"],
    ["mdp.39015056733226", "v.149 1894"],
    ["mdp.39015056733218", "v.150 1895"],
    ["mdp.39015056733200", "v.151 1896"],
    ["chi.099165287", "v.152 1897"],
    ["uc1.e0000057281", "v.153 yr.1898"],
    ["mdp.39015056733184", "v.153 1898"],
    ["mdp.39015056733176", "v.154 1899"],
    ["mdp.39015056733168", "v.155 1900"],
    ["chi.099165342", "v.157 1902"],
    ["chi.099165350", "v.158 1903"],
    ["chi.099165368", "v.159 1904"],
    ["uc1.e0000059923", "v.161 yr.1906"],
    ["uc1.e0000059931", "v.162 yr.1907"],
    ["chi.099165407", "v.163 1908"],
    ["chi.099165415", "v.164 1909"],
    ["chi.099165423", "v.165 1910"],
    ["uc1.c109614531", "Index v.166-175"],
    ["chi.099165449", "v.166 1911"],
    ["uc1.e0000059980", "v.167 yr.1912/1913"],
    ["chi.099165465", "v.168 1913"],
    ["chi.099165473", "v.169 1914"],
    ["uc1.e0000060012", "v.170 yr.1914/1916"],
    ["chi.099165481", "v.170 1915"],
    ["chi.099165499", "v.171 1916"],
    ["chi.099165504", "v.172 1917"],
    ["uc1.e0000060038", "v.172 yr.1917/1918"],
    ["chi.099165512", "v.173 1918"],
    ["chi.099165520", "v.174 1919"],
    ["chi.099165538", "v.175 1920"],
    ["chi.099165554", "v.176 1921"],
    ["chi.099165619", "v.182 1927"],
    ["chi.099165627", "v.183 1928"],
    ["chi.099165635", "v.184 1929"],
    ["uc1.e0000060194", "v.188 yr.1932/1933"],
    ["uc1.e0000060202", "v.189 yr.1933/1934"],
    ["uc1.e0000060210", "v.190 yr.1934/1935"],
    ["uc1.e0000060228", "v.191 yr.1935/1936"],
    ["uc1.e0000060236", "v.192 yr.1936/1937"],
    ["uc1.e0000060244", "v.193 yr.1937/1938"],
    ["uc1.e0000060251", "v.194 yr.1938/1939"],
    ["uc1.e0000060269", "v.195 yr.1939/1940"],
    ["uc1.e0000060277", "v.196 yr.1940/1941"],
    ["uc1.e0000060285", "v.197 yr.1941/1942"],
    ["uc1.e0000060293", "v.198 yr.1942/1943"],
    ["uc1.e0000060301", "v.199 yr.1943/1944"],
    ["chi.63719499", "1714-1718"],
]


def get_ids():
    url = "https://catalog.hathitrust.org/Record/000541172"
    r = requests.get(url)
    soup = BeautifulSoup(r.content, "html5lib")

    table = soup.find(
        "table", attrs={"class": "table-branded viewability-table"}
    ).find_all("a")
    for row in table:
        spans = row.find_all("span")
        if spans[0].text == "Full view":
            print(f"['{row.get("href")[33:]}', '{spans[1].text}'],")


def get_size(url):
    r = requests.get(url)
    soup = BeautifulSoup(r.content, "html5lib")
    for line in soup.prettify().split("\n"):
        if line[:21] == "HT.params.totalSeq = ":
            return line[21:-1]


def main():
    for id in ids:
        url = f"https://babel.hathitrust.org/cgi/pt?id={id[0]}&seq=0"
        size = get_size(url)
        print(f"[{id[0]}, {id[1]}, {size}],")


if __name__ == "__main__":
    # get_ids()
    main()
